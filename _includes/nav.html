<nav class="site-nav">
  {% assign is_home = page.url == '/' %}
  <a class="internal-link nav-home{% if is_home %} nav-link--active{% endif %}"
     href="{{ site.baseurl }}/"
     {% if is_home %}aria-current="page"{% endif %}><strong>{{ site.title }}</strong></a>
  {% if site.data.navigation %}
  <ul class="nav-links">
    {% for item in site.data.navigation %}
    {% assign is_active = false %}
    {% if item.active_if %}
      {% if item.active_if.url_exact and page.url == item.active_if.url_exact %}
        {% assign is_active = true %}
      {% endif %}
      {% if item.active_if.url_prefix and page.url contains item.active_if.url_prefix %}
        {% assign is_active = true %}
      {% endif %}
      {% if item.active_if.path_contains and page.path contains item.active_if.path_contains %}
        {% assign is_active = true %}
      {% endif %}
    {% else %}
      {% if page.url == item.url or page.url contains item.url %}
        {% assign is_active = true %}
      {% endif %}
    {% endif %}
    <li>
      <a class="internal-link{% if is_active %} nav-link--active{% endif %}"
         href="{{ site.baseurl }}{{ item.url }}"
         {% if is_active %}aria-current="page"{% endif %}>{{ item.title }}</a>
    </li>
    {% endfor %}
  </ul>
  {% endif %}
</nav>
