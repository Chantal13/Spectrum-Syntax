{% if include.items %}
<ul class="nav-links{% if include.level and include.level > 0 %} nav-links--sub{% endif %}">
  {% assign items = include.items %}
  {% assign level = include.level | default: 0 %}
  {% for item in items %}
    {% assign is_active = false %}
    {% if item.active_if %}
      {% if item.active_if.url_exact and page.url == item.active_if.url_exact %}
        {% assign is_active = true %}
      {% endif %}
      {% if item.active_if.url_prefix and page.url contains item.active_if.url_prefix %}
        {% assign is_active = true %}
      {% endif %}
      {% if item.active_if.path_contains and page.path contains item.active_if.path_contains %}
        {% assign is_active = true %}
      {% endif %}
    {% else %}
      {% if page.url == item.url or page.url contains item.url %}
        {% assign is_active = true %}
      {% endif %}
    {% endif %}
    <li>
      <a class="internal-link{% if is_active %} nav-link--active{% endif %}"
         href="{{ site.baseurl }}{{ item.url }}"
         {% if is_active %}aria-current="page"{% endif %}>{{ item.title }}</a>
      {% if item.children %}
        {% assign next_level = level | plus: 1 %}
        {% include nav.html items=item.children level=next_level %}
      {% endif %}
    </li>
  {% endfor %}
</ul>
{% else %}
<nav class="site-nav">
  {% assign is_home = page.url == '/' %}
  <a class="internal-link nav-home{% if is_home %} nav-link--active{% endif %}"
     href="{{ site.baseurl }}/"
     {% if is_home %}aria-current="page"{% endif %}><strong>{{ site.title }}</strong></a>
  {% if site.data.navigation %}
    {% include nav.html items=site.data.navigation level=0 %}
  {% endif %}
</nav>
{% endif %}
